<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PDF Anonymizer</title>
    <link rel="stylesheet" type="text/css" href="../static/index.css">
    <script>
        function triggerFileInput(elem) {
            document.querySelector("#uploadValidator").innerHTML = `${elem.files[0].name} (${formatBytes(elem.files[0].size)})`;
            console.dir(elem.files);

            setTimeout(() => {
                document.querySelector("#hidden").style.display = "inline";
            }, 300);
        }


        function startAnimation() {

        }


        function formatBytes(bytes) {
            if (bytes === 0) return '0 Bytes';
            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            return parseFloat((bytes / Math.pow(1024, i)).toFixed(2)) + ' ' + sizes[i];
        }
    </script>
</head>
<body>
    <div id="main">
        <h1>PDF Anonymizer</h1>
        <div id="upload">
            <label for="fileinput_single">Upload single file</label>
            <label for="fileinput_mult">Upload multiple files</label>
            <input id="fileinput_single" type="file" accept=".PDF" oninput="triggerFileInput(this)">
            <input id="fileinput_mult" type="file" accept=".PDF" oninput="triggerFileInput(this)" webkitdirectory directory multiple>
        </div>
    </div>
    <div id="hidden">
        <p id="uploadValidator"></p>
        <input type="submit" value="Process file(s)">
    </div>
</body>
</html>
